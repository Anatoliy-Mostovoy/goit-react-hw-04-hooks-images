{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Api/Api.js","Components/Loader/Loader.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/App.js","index.js"],"names":["module","exports","KEY","URL","fetchImgs","inputValue","a","currentPage","axios","get","CustomLoader","className","s","Loader","type","color","height","width","timeout","Searchbar","onSubmit","useState","setInputValue","SearchForm","event","preventDefault","SearchFormButton","SearchFormInput","value","onChange","target","placeholder","ImageGalleryItem","imgs","onImgClick","map","img","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","largeImageURL","id","ImageGallery","modalRoot","document","querySelector","Modal","closeModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","currentTarget","MoreButton","nextPage","Button","App","state","errors","loading","showModal","imgModal","fetcher","setState","prevState","data","hits","scrollTo","top","documentElement","scrollHeight","behavior","response","formSubmit","trim","openModal","prevProps","this","length","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,wCCA3DD,EAAOC,QAAU,CAAC,IAAM,mB,mBCAxBD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,kBCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,6LCC1OC,EAAM,qCACNC,EAAM,0BAECC,EAAS,uCAAG,WAAOC,GAAP,2BAAAC,EAAA,6DAAmBC,EAAnB,+BAAiC,EAAjC,SACVC,IAAMC,IAAN,UACRN,EADQ,eACEE,EADF,iBACqBE,EADrB,gBACwCL,EADxC,yDADU,mFAAH,sD,yCCFTQ,EAAe,kBAC1B,qBAAKC,UAAWC,IAAEC,OAAlB,SACE,cAAC,IAAD,CACEC,KAAK,OACLC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,S,wBCPFC,EAAY,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC1B,EAAoCC,mBAAS,IAA7C,mBAAOhB,EAAP,KAAmBiB,EAAnB,KAaA,OACE,wBAAQX,UAAWC,IAAEO,UAArB,SACE,uBAAMR,UAAWC,IAAEW,WAAYH,SARd,SAAAI,GACnBA,EAAMC,iBACNL,EAASf,GACTiB,EAAc,KAKZ,UACE,wBAAQX,UAAWC,IAAEc,iBAAkBZ,KAAK,WAC5C,gCACE,uBACEH,UAAWC,IAAEe,gBACbb,KAAK,OACLc,MAAOvB,EACPwB,SApBgB,SAAAL,GACxB,IAAQI,EAAUJ,EAAMM,OAAhBF,MACRN,EAAcM,IAmBNG,YAAY,qC,iBCxBXC,EAAmB,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,WACvC,OACE,mCACGD,EAAKE,KAAI,SAAAC,GACR,OACE,oBAAIzB,UAAWC,IAAEoB,iBAAjB,SACE,qBACEK,IAAKD,EAAIE,aACTC,IAAKH,EAAII,KACT7B,UAAWC,IAAE6B,sBACbC,QAAS,kBAAMR,EAAWE,EAAIO,mBALMP,EAAIQ,U,iBCJzCC,EAAe,SAAC,GAA0B,IAAxBZ,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,WACnC,OACE,oBAAIvB,UAAWC,IAAEiC,aAAjB,SACE,cAAC,EAAD,CAAkBZ,KAAMA,EAAMC,WAAYA,O,iBCF1CY,EAAYC,SAASC,cAAc,eAE5BC,EAAQ,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SAClCC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAgB,SAAA/B,GACD,WAAfA,EAAMiC,MACRP,KAWJ,OAAOQ,uBACL,qBAAK/C,UAAWC,IAAE+C,QAASjB,QARJ,SAAAlB,GACWA,EAA1BoC,gBAA0BpC,EAAXM,QAErBoB,KAKF,SACE,qBAAKvC,UAAWC,IAAEqC,MAAlB,SAA0BE,MAE5BL,I,iBC7BSe,EAAa,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,OACE,wBAAQnD,UAAWC,IAAEmD,OAAQjD,KAAK,SAAS4B,QAASoB,EAApD,wBCISE,EAAb,4MACEC,MAAQ,CACN5D,WAAY,GACZ4B,KAAM,GACNiC,OAAQ,KACRC,SAAS,EACT5D,YAAa,EACb6D,WAAW,EACXC,SAAU,IARd,EAkBEC,QAlBF,sBAkBY,kCAAAhE,EAAA,2DAC4B,EAAK2D,MAAjC5D,EADA,EACAA,WAAYE,EADZ,EACYA,YACD,KAAfF,EAFI,iEAMN,EAAKkE,SAAS,CAAEJ,SAAS,IANnB,SAOa/D,EAAUC,EAAYE,GAPnC,OAOA0B,EAPA,OAQN,EAAKsC,UAAS,SAAAC,GAAS,MAAK,CAC1BvC,KAAK,GAAD,mBAAMuC,EAAUvC,MAAhB,YAAyBA,EAAKwC,KAAKC,OACvCnE,YAAaA,EAAc,EAC3B4D,SAAS,MAEXd,OAAOsB,SAAS,CACdC,IAAK7B,SAAS8B,gBAAgBC,aAC9BC,SAAU,WAfN,kDAkBN,EAAKR,SAAS,CAAEL,OAAQ,KAAMc,SAASP,KAAMN,SAAS,IAlBhD,0DAlBZ,EAwCEc,WAAa,SAAAR,GACX,EAAKF,SAAS,CAAElE,WAAYoE,EAAKS,OAAQ3E,YAAa,EAAG0B,KAAM,MAzCnE,EA4CEkD,UAAY,SAAAxC,GACV,EAAK4B,SAAS,CAAEH,WAAW,EAAMC,SAAU1B,KA7C/C,EAgDEO,WAAa,SAAA1B,GACX,EAAK+C,SAAS,CAAEH,WAAW,EAAOC,SAAU,MAjDhD,wDAWE,SAAmBe,EAAWZ,GAC5B,IAAQnE,EAAegF,KAAKpB,MAApB5D,WACJmE,EAAUnE,aAAeA,GAC3BgF,KAAKf,YAdX,oBAoDE,WACE,MAAuDe,KAAKpB,MAApDE,EAAR,EAAQA,QAASD,EAAjB,EAAiBA,OAAQjC,EAAzB,EAAyBA,KAAMmC,EAA/B,EAA+BA,UAAWC,EAA1C,EAA0CA,SAC1C,OACE,sBAAK1D,UAAWC,IAAEoD,IAAlB,UACE,cAAC,EAAD,CAAW5C,SAAUiE,KAAKJ,aACzBf,EACC,6BAAKA,IAEL,cAAC,EAAD,CAAcjC,KAAMA,EAAMC,WAAYmD,KAAKF,YAE5ChB,GAAW,cAAC,EAAD,IACXlC,EAAKqD,OAAS,GAAK,cAAC,EAAD,CAAYxB,SAAUuB,KAAKf,UAC9CF,GACC,cAAC,EAAD,CAAOlB,WAAYmC,KAAKnC,WAAxB,SACE,qBAAKb,IAAKgC,EAAU9B,IAAI,iBAlEpC,GAAyBgD,aCJzBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAK/E,UAAWC,QAElBmC,SAAS4C,eAAe,W","file":"static/js/main.5e536cfe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3sKCK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__-gifw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__xrN1S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3YYEG\",\"SearchForm\":\"Searchbar_SearchForm__1hX1-\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Txlp\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2x_EN\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2AFLM\"};","import axios from 'axios';\n\nconst KEY = '21944092-5843deb4113ddddf966c6ecb1';\nconst URL = 'https://pixabay.com/api';\n\nexport const fetchImgs = async (inputValue, currentPage = 1) => {\n  return await axios.get(\n    `${URL}/?q=${inputValue}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n","import Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport const CustomLoader = () => (\n  <div className={s.Loader}>\n    <Loader\n      type=\"Grid\"\n      color=\"#3f51b5\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  </div>\n);\n","import React, { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nexport const Searchbar = ({ onSubmit }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const handleInputChange = event => {\n    const { value } = event.target;\n    setInputValue(value);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(inputValue);\n    setInputValue('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button className={s.SearchFormButton} type=\"submit\"></button>\n        <label>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            value={inputValue}\n            onChange={handleInputChange}\n            placeholder=\"Search images and photos\"\n          />\n        </label>\n      </form>\n    </header>\n  );\n};\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nexport const ImageGalleryItem = ({ imgs, onImgClick }) => {\n  return (\n    <>\n      {imgs.map(img => {\n        return (\n          <li className={s.ImageGalleryItem} key={img.id}>\n            <img\n              src={img.webformatURL}\n              alt={img.tags}\n              className={s.ImageGalleryItemImage}\n              onClick={() => onImgClick(img.largeImageURL)}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imgs: PropTypes.array.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n","import { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport PropTypes from 'prop-types';\n\nexport const ImageGallery = ({ imgs, onImgClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem imgs={imgs} onImgClick={onImgClick} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  imgs: PropTypes.array.isRequired,\n  onImgClick: PropTypes.func.isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport const Modal = ({ closeModal, children }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const handleCloseModal = event => {\n    const { currentTarget, target } = event;\n    if (currentTarget === target) {\n      closeModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleCloseModal}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n};\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n};\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nexport const MoreButton = ({ nextPage }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={nextPage}>\n      Load more\n    </button>\n  );\n};\n\nMoreButton.propTypes = {\n  nextPage: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport s from './App.module.css';\nimport { fetchImgs } from '../Api/Api';\nimport { CustomLoader } from './Loader/Loader';\nimport { Searchbar } from './Searchbar/Searchbar';\nimport { ImageGallery } from './ImageGallery/ImageGallery';\nimport { Modal } from './Modal/Modal';\nimport { MoreButton } from './Button/Button';\n\nexport class App extends Component {\n  state = {\n    inputValue: '',\n    imgs: [],\n    errors: null,\n    loading: false,\n    currentPage: 1,\n    showModal: false,\n    imgModal: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { inputValue } = this.state;\n    if (prevState.inputValue !== inputValue) {\n      this.fetcher();\n    }\n  }\n\n  fetcher = async () => {\n    const { inputValue, currentPage } = this.state;\n    if (inputValue === '') {\n      return;\n    }\n    try {\n      this.setState({ loading: true });\n      const imgs = await fetchImgs(inputValue, currentPage);\n      this.setState(prevState => ({\n        imgs: [...prevState.imgs, ...imgs.data.hits],\n        currentPage: currentPage + 1,\n        loading: false,\n      }));\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    } catch (error) {\n      this.setState({ errors: error.response.data, loading: false });\n    }\n  };\n\n  formSubmit = data => {\n    this.setState({ inputValue: data.trim(), currentPage: 1, imgs: [] });\n  };\n\n  openModal = largeImageURL => {\n    this.setState({ showModal: true, imgModal: largeImageURL });\n  };\n\n  closeModal = event => {\n    this.setState({ showModal: false, imgModal: '' });\n  };\n\n  render() {\n    const { loading, errors, imgs, showModal, imgModal } = this.state;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.formSubmit} />\n        {errors ? (\n          <h2>{errors}</h2>\n        ) : (\n          <ImageGallery imgs={imgs} onImgClick={this.openModal} />\n        )}\n        {loading && <CustomLoader />}\n        {imgs.length > 0 && <MoreButton nextPage={this.fetcher} />}\n        {showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img src={imgModal} alt=\"img\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport s from './index.module.css';\nimport { App } from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}